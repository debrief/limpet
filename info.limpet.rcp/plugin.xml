<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="org.eclipse.ui.views">
      <category
            name="Limpet Data Analysis"
            id="info.limpet.rcp">
      </category>
      <view
            allowMultiple="true"
            name="Analysis View"
            icon="icons/overview.png"
            category="info.limpet.rcp"
            class="info.limpet.rcp.analysis_view.AnalysisView"
            id="info.limpet.rcp.AnalysisView">
      </view>
      <view
            allowMultiple="true"
            name="Data Frequency"
            icon="icons/bar-chart.png"
            category="info.limpet.rcp"
            class="info.limpet.rcp.data_frequency.DataFrequencyView"
            id="info.limpet.rcp.DataFrequencyView">
      </view>
      <view
            allowMultiple="true"
            name="Time Frequency"
            icon="icons/time-bar-chart.png"
            category="info.limpet.rcp"
            class="info.limpet.rcp.time_frequency.TimeFrequencyView"
            id="info.limpet.rcp.TimeFrequencyView">
      </view>
      <view
            allowMultiple="true"
            category="info.limpet.rcp"
            class="info.limpet.rcp.xy_plot.XyPlotView"
            icon="icons/line-chart.png"
            id="info.limpet.rcp.XyPlotView"
            name="XY Plot">
      </view>
      <view
            allowMultiple="true"
            category="info.limpet.rcp"
            class="info.limpet.rcp.range_slider.RangeSliderView"
            icon="icons/properties.png"
            id="info.limpet.rcp.RangeSliderView"
            name="Range Slider">
      </view>
   </extension>
   
   <extension
         point="org.eclipse.ui.editors">
   	<editor
      	name="Data Manager Editor"
      	extensions="lap"
      	icon="icons/limpet.png"
      	class="info.limpet.rcp.editors.DataManagerEditor"
      	contributorClass="info.limpet.rcp.editors.DataManagerEditorActionBarContributor"
      	id="info.limpet.rcp.editors.dataManagerEditor">
   	</editor>
   </extension>

   <extension
         id="application"
         point="org.eclipse.core.runtime.applications">
      <application>
         <run
               class="info.limpet.rcp.product.Application">
         </run>
      </application>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            name="Data Analysis"
            class="info.limpet.rcp.product.Perspective"
            icon="icons/limpet.png"
            id="info.limpet.product.perspective">
      </perspective>
   </extension>
   <extension
         id="product"
         point="org.eclipse.core.runtime.products">
      <product
            application="info.limpet.rcp.application"
            name="Limpet" description="Lightweight InforMation ProcEssing Toolkit">
         	<property name="appName" value="Limpet"/>
            <property name="introTitle" value="Welcome to Limpet"/>
            <property name="introBrandingImage" value="product:icons/about.jpg"/>
            <property name="introBrandingImageText"
                value="Limpet"/>
            <property name="aboutImage" value="icons/about.png"/>
            <property name="windowImages" value="icons/icon.png,icons/48/icon_48.png"/>
            <property name="startupForegroundColor" value="000000"/>
            <property name="startupMessageRect" value="0,0,0,0"/>
            <property name="startupProgressRect" value="0,0,0,0"/>
            <property name="applicationXMI" value="org.eclipse.platform/LegacyIDE.e4xmi"/>
            <property name="cssTheme" value="org.eclipse.e4.ui.css.theme.e4_default"/>
            <property name="applicationCSSResources"
                value="platform:/plugin/org.eclipse.platform/images/"/>
            <property name="aboutText" value="%aboutText"> </property>
         <property
               name="windowImages"
               value="icons/limpet.png,icons/alt_window_32.gif">
         </property>
         <property
               name="preferenceCustomization"
               value="plugin_customization.ini">
         </property>
      </product>
   </extension>
   <extension
         point="org.eclipse.ui.intro">
      <intro
            class="org.eclipse.ui.intro.config.CustomizableIntroPart"
            id="info.limpet.product.intro"
            label="Welcome to Limpet">
      </intro>
      <introProductBinding
            introId="info.limpet.product.intro"
            productId="info.limpet.rcp.product">
      </introProductBinding>
   </extension>
   <extension
         point="org.eclipse.ui.intro.config">
      <config
            introId="info.limpet.product.intro"
            content="introContent.xml"
            id="info.limpet.product.configId">
         <presentation
               home-page-id="root">
            <implementation
                  kind="html"
                  os="win32,linux,macosx">
            </implementation>
         </presentation>
      </config>
   </extension>
   
   <extension point="org.eclipse.ui.perspectiveExtensions">
        <perspectiveExtension targetID="info.limpet.product.perspective">
            <hiddenMenuItem id="bookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addBookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addTask"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAll"/>
            <hiddenMenuItem id="org.eclipse.ui.project.openProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.closeProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.cleanAction"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAutomatically"/>
            <hiddenMenuItem id="org.eclipse.ui.project.properties"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.goInto"/>
            <hiddenMenuItem id="org.eclipse.search.menu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openSearchDialog"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openFileSearchPage"/>
            <hiddenMenuItem id="textSearchSubMenu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkspace"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchProject"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchFile"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkingSet"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.back"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.up"/>
            <hiddenMenuItem id="converstLineDelimitersTo"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.windows"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.unix"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.macOS9"/>
            <hiddenMenuItem id="project"/>
            <hiddenMenuItem id="navigate"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.commands.RunToLine"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.toggleShowSelectedElementOnly"/>
            <hiddenToolBarItem id="org.eclipse.search.searchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.search.OpenSearchDialogPage"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.back"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.up"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.launchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.NavigateActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.navigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.annotationNavigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.navigate"/>
            
            <hiddenToolBarItem id="org.eclipse.ui.workbench.help"/>
        </perspectiveExtension>
        <perspectiveExtension targetID="org.eclipse.ui.resourcePerspective">
            <hiddenMenuItem id="bookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addBookmark"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.addTask"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAll"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildProject"/>
            <hiddenMenuItem id="org.eclipse.ui.project.cleanAction"/>
            <hiddenMenuItem id="org.eclipse.ui.project.buildAutomatically"/>
            <hiddenMenuItem id="org.eclipse.ui.project.properties"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.goInto"/>
            <hiddenMenuItem id="org.eclipse.search.menu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openSearchDialog"/>
            <hiddenMenuItem id="org.eclipse.search.ui.openFileSearchPage"/>
            <hiddenMenuItem id="textSearchSubMenu"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkspace"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchProject"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchFile"/>
            <hiddenMenuItem id="org.eclipse.search.ui.performTextSearchWorkingSet"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.back"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.up"/>
            <hiddenMenuItem id="converstLineDelimitersTo"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.windows"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.unix"/>
            <hiddenMenuItem id="org.eclipse.ui.edit.text.delimiter.macOS9"/>
            <hiddenMenuItem id="project"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.commands.RunToLine"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.toggleShowSelectedElementOnly"/>
            <hiddenToolBarItem id="org.eclipse.search.searchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.search.OpenSearchDialogPage"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.back"/>
            <hiddenMenuItem id="org.eclipse.ui.navigate.forward"/>
            <hiddenToolBarItem id="org.eclipse.ui.navigate.up"/>
            <hiddenToolBarItem id="org.eclipse.debug.ui.launchActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.NavigateActionSet"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.navigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.edit.text.actionSet.annotationNavigation"/>
            <hiddenToolBarItem id="org.eclipse.ui.workbench.navigate"/>
            
            <hiddenToolBarItem id="org.eclipse.ui.workbench.help"/>
        </perspectiveExtension>
    </extension>
   
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            lightweight="true"
            adaptable="true"
            label="Limpet Decorator"
            class="info.limpet.rcp.decorators.LimpetDecorator"
            state="true"
            id="info.limpet.rcp.decorators.LimpetDecorator">
         <description>
            Limpet Decorator
         </description>
         <enablement>
            <objectClass
                  name="info.limpet.rcp.data_provider.data.LimpetWrapper">
            </objectClass>
         </enablement>
      </decorator>
    </extension>
    
    <extension point="org.eclipse.ui.commands">
        <command defaultHandler="info.limpet.rcp.actions.CreateSampleProject"
            id="info.limpet.rcp.sampleProject" 
            name="Create Sample Project">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CreateDimensionlessCommand"
            id="info.limpet.rcp.create.createDimensionless" 
            name="Create single dimensionless value">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CreateFrequencyCommand"
            id="info.limpet.rcp.create.createFrequency" 
            name="Create single frequency value">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CreateDecibelsCommand"
            id="info.limpet.rcp.create.createDecibels" 
            name="Create single decibels value">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CreateSpeedCommand"
            id="info.limpet.rcp.create.createSpeed" 
            name="Create single speed (m/s) value">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CreateCourseCommand"
            id="info.limpet.rcp.create.createCourse" 
            name="Create single course (degs) value">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CreateLocationCommand"
            id="info.limpet.rcp.create.createLocation" 
            name="Create single location">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.AddLayerCommand"
            id="info.limpet.rcp.create.addLayer" 
            name="Add Layer">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CopyCsvToClipboardCommand"
            id="info.limpet.rcp.copycsv.CopyCsvToClipboard" 
            name="Copy CSV to Clipboard">
        </command>
        <command defaultHandler="info.limpet.rcp.actions.CopyCsvToFileCommand"
            id="info.limpet.rcp.copycsv.CopyCsvToFile" 
            name="Copy CSV to File">
        </command>
    </extension>
    
    <extension point="org.eclipse.ui.menus">
        <menuContribution locationURI="toolbar:org.eclipse.ui.main.toolbar?after=group.file">
          <toolbar id="info.limpet.rcp.toolbar">
            <command commandId="info.limpet.rcp.sampleProject"
                icon="icons/create_project.png"
                label="Create Sample Project"
                tooltip="Create Sample project" style="push"
                id="info.limpet.rcp.sampleProject">
            </command>
          </toolbar>
        </menuContribution>
        <menuContribution locationURI="popup:info.limpet.rcp.editors.dataManagerEditor?after=create">
          <menu id="info.limpet.rcp.create" label="Create">
            <separator
                  name="additions"
                  visible="false">
            </separator>
          </menu>
        </menuContribution>
        <menuContribution locationURI="popup:info.limpet.rcp.editors.dataManagerEditor?after=copycsv">
          <command
               commandId="info.limpet.rcp.copycsv.CopyCsvToClipboard"
               label="Copy CSV to Clipboard"
               icon="icons/export_wiz.gif"
               tooltip="Copy CSV to Clipboard"
               style="push">
               <visibleWhen
                     checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <count
                        value="1">
                  </count>
                  <iterate ifEmpty="false">
                  	<adapt
                         type="info.limpet.rcp.data_provider.data.CollectionWrapper">
                  	</adapt>
                  </iterate>
               </with>
            </visibleWhen>
          </command>
          <command
               commandId="info.limpet.rcp.copycsv.CopyCsvToFile"
               label="Copy CSV to File"
               icon="icons/export_wiz.gif"
               tooltip="Copy CSV to File"
               style="push">
               <visibleWhen
                     checkEnabled="false">
               <with
                     variable="activeMenuSelection">
                  <count
                        value="1">
                  </count>
                  <iterate ifEmpty="false">
                  	<adapt
                         type="info.limpet.rcp.data_provider.data.CollectionWrapper">
                  	</adapt>
                  </iterate>
               </with>
            </visibleWhen>
          </command>
        </menuContribution>
        <menuContribution locationURI="popup:info.limpet.rcp.create?after=additions">
          <command
               commandId="info.limpet.rcp.create.createDimensionless"
               label="Create single dimensionless value"
               icon="icons/variable.png"
               tooltip="Create single dimensionless value"
               style="push">
          </command>
          <command
               commandId="info.limpet.rcp.create.createFrequency"
               label="Create single frequency value"
               icon="icons/variable.png"
               tooltip="Create single frequency value"
               style="push">
          </command>
          <command
               commandId="info.limpet.rcp.create.createDecibels"
               label="Create single decibels value"
               icon="icons/variable.png"
               tooltip="Create single decibels value"
               style="push">
          </command>
          <command
               commandId="info.limpet.rcp.create.createSpeed"
               label="Create single speed (m/s) value"
               icon="icons/variable.png"
               tooltip="Create single speed (m/s) value"
               style="push">
          </command>
          <command
               commandId="info.limpet.rcp.create.createCourse"
               label="Create single course (degs) value"
               icon="icons/variable.png"
               tooltip="Create single course (degs) value"
               style="push">
          </command>
          <command
               commandId="info.limpet.rcp.create.createLocation"
               label="Create single location"
               icon="icons/variable.png"
               tooltip="Create single location"
               style="push">
          </command>
          <command
               commandId="info.limpet.rcp.create.addLayer"
               label="Add layer"
               icon="icons/paste_edit.gif"
               tooltip="Add Layer"
               style="push">
          </command>
        </menuContribution>
        
    </extension>

</plugin>
